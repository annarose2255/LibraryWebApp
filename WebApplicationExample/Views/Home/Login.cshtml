@model LibraryWebApp.Models.GlobalLoginModel
@{
    ViewBag.Title = "Login";
}

<head>
    <script>
        function toggleShowPassword(inputID) {
            var x = document.getElementById(inputID);
            if (x.type === "password") {
                x.type = "text";
            } else {
                x.type = "password";
            }
        }
    </script>
</head>

<div class="row">
    <div class="col-xs-12 col-sm-5 table-bordered">
        <label for="error" id="error" class="alert-danger">@Model.Message</label>
        <h3 style="margin-left: 1%;">Login</h3>
        @using (Html.BeginForm("Login", "Home", FormMethod.Post))
        {
            <div class="form-group row" >
                <div class=" col-md-3" style="margin-left: 1%;">
                    <label for="username" id="username">Username:</label>
                </div>
                <div class="col-11 col-md-6" style="margin-left: 2%; padding-right: 0;">
                    @Html.TextBoxFor(m => m.LoginModel.Username, new { @class = "form-control", @style="width: 84%"})
                    @Html.ValidationMessageFor(m => m.LoginModel.Username, "", new { @class = "alert-danger" })
                </div>

            </div>

            <div class="form-group row" >
                
                <div class="col-md-3" style="margin-left: 1%;">
                    <label for="name">Password:</label>
                </div>
                <div class=" col-md-8" style="margin-left: 2%;">
                    <div class="row">
                        <div class=" col-md-8 col-6" >
                            @Html.TextBoxFor(m => m.LoginModel.Password, new { @class = "form-control", @type = "password", @id = "password-login" })
                        </div>
                        <div class="col-4" style="padding-left: 0;">
                            <label class="checkbox-inline">
                                <input type="checkbox" onclick="toggleShowPassword('password-login')" style="">
                                Show password
                            </label>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            @Html.Raw(HttpUtility.HtmlDecode(Html.ValidationMessageFor(m => m.LoginModel.Password, "", new { @class = "alert-danger" }).ToHtmlString()))
                            @*Note about above: We first get the error message through the ValidationMessageFor method.
                                Then we call .ToHtmlString() to convert the error message string to html code (if any exists) - this covnerts "<br>" into an actual <br> tag
                                Then we call that as part of the HtmlDecode method which converts the rest of the string back into plain text
                                Then we call that as part of the Raw method which is what actually returns the html tags as tags to be displayed *@
                        </div>
                        
                    </div>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-6 col-xs-offset-2 col-md-offset-3" style="margin-bottom: 3%; margin-top: 5%;">
                    <input type="submit" value="Login" class="btn btn-primary" style="background-color: #9F2CAD; color: white; width:100%" />
                </div>
            </div>
        }
    </div>

    <div class="col-xs-12 col-sm-2">

    </div>


    <div class="col-xs-12 col-sm-5 table-bordered">
        <!--If there is an error message, print it here-->
        <label for="error" id="error" class="alert-danger">@Model.RegisterModel.Message</label>
        <h3 style="margin-left: 1%;">Register</h3>
        <!--beginform(modelname,derive,type)-->
        @using (Html.BeginForm("Register", "Home", FormMethod.Post))
        {

            <!--prompt for firstname-->
            <div class="form-group row">
                <div class="col-4" style="margin-left: 1%;">
                    <label for="firstname" id="firstname">First name:</label>
                </div>
                <div class="col-md-8 col-11" style="margin-left: 2%;">
                    @Html.TextBoxFor(m => m.RegisterModel.FirstName, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.RegisterModel.FirstName, "", new { @class = "alert-danger" })
                </div>
            </div>
            <!--prompt for lastname-->
            <div class="form-group row">
                <div class="col-4" style="margin-left: 1%;">
                    <label for="lastname" id="lastname">Last name:</label>
                </div>
                <div class="col-md-8 col-11" style="margin-left: 2%;">
                    @Html.TextBoxFor(m => m.RegisterModel.LastName, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.RegisterModel.LastName, "", new { @class = "alert-danger" })
                </div>              
            </div>
            <!--prompt for username-->
            <div class="form-group row">
                <div class="col-4" style="margin-left: 1%;">
                    <label for="username" id="username">Username:</label>
                </div>
                <div class="col-md-8 col-11" style="margin-left: 2%;">
                    @Html.TextBoxFor(m => m.RegisterModel.Username, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.RegisterModel.Username, "", new { @class = "alert-danger" })
                </div>           
            </div>
            <!--prompt for password-->
            <div class=" row">
                <div class="col-4" style="margin-left: 1%;">
                    <label for="password" id="password">Password:</label>
                </div>
            </div>
                <div class="col-12">
                    <div class="form-group row">
                        <div class="col-sm-8 col-9" style="padding-left: 2%; padding-right: 0%; margin-right: 4%;">
                            @Html.TextBoxFor(m => m.RegisterModel.Password, new { @class = "form-control password-register", @type = "password", @id = "password-register", @style = "padding-right: 1%; " })
                            @Html.ValidationMessageFor(m => m.RegisterModel.Password, "", new { @class = "alert-danger" })

                        </div>
                        <div class="col-sm-2 col-2" style="padding: 0; ">
                            <label class="checkbox-inline">
                                <input type="checkbox" onclick="toggleShowPassword('password-register')" style="">
                                Show 
                            </label>
                        </div>
                    </div>
                </div>
                
            @*</div>*@
            <!--prompt for email-->
            <div class="form-group row">
                <div class="col-4" style="margin-left: 1%;">
                    <label for="email" id="email">E-Mail:</label>
                </div>
                <div class="col-md-8 col-11" style="margin-left: 2%;">
                    @Html.TextBoxFor(m => m.RegisterModel.PrimaryEmail, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.RegisterModel.PrimaryEmail, "", new { @class = "alert-danger" })
                </div>               
            </div>
            <!--prompt for phone number-->
            <div class="form-group row">
                <div class="col-4" style="margin-left: 1%;">
                    <label for="phone" id="phone">Phone number:</label>
                </div>
                <div class="col-md-8 col-11" style="margin-left: 2%;">
                    @Html.TextBoxFor(m => m.RegisterModel.PrimaryPhone, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.RegisterModel.PrimaryPhone, "", new { @class = "alert-danger" })

                </div>
            </div>
            <div class="row">
                <div class="col-6 col-xs-offset-2" style="margin-bottom: 3%; margin-top: 5%;">
                    <input type="submit" value="Register" class="btn btn-primary" style="background-color: #9F2CAD; color: white; width:100% " />
                </div>
            </div>
                       
        }
    </div>
</div>
